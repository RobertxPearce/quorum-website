package WebEditor

use Libraries.Interface.Controls.Control
use Libraries.Interface.Events.FocusEvent

class EditorItem is Control
    
    Control target = undefined
    WebControlPanel panel = undefined

    on create
        SetInputGroup("EditorItem")
        SetAccessibilityCode(parent:Item:CUSTOM)
        SetFocusable(true)
        SetPixelWidth(1)
        SetPixelHeight(1)
        SetPixelX(0)
        SetPixelY(0)
    end
    
    action SetTarget(Control target) 
        me:target = target
    end
    
    action GetTarget returns Control
        return me:target
    end
    
    action SetPanel(WebControlPanel panel)
        me:panel = panel
    end
    
    action GetPanel returns WebControlPanel
        return me:panel
    end
    
    action FocusTarget
        me:target:Focus()
    end
    
    action GainedFocus(FocusEvent event)
        panel:UpdateBorder(true)
    end
    
    action LostFocus(FocusEvent event)
        panel:UpdateBorder(false)
    end
    
end
